{% extends "base.html" %}

{% block title %} - Posts{% endblock %}

{% block content %}
  <h1>Posts</h1>
  <p><a href="{% url 'posts_feed' %}">RSS feed</a></p>

  {% if posts %}
  <ul>
    {% for post in posts %}
    <li>
      <a href="{% url 'post' post.slug %}">{{ post.title }}</a>
      {% if post.published_on %}
      <small>{{ post.published_on|date:"Y-m-d" }}</small>
      {% endif %}
      <p>{{ post.summary }}</p>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No posts yet.</p>
  {% endif %}

  {% if posts.paginator.num_pages > 1 %}
  <nav aria-label="Pagination">
    {% if posts.has_previous %}
    <a href="?page={{ posts.previous_page_number }}">Newer</a>
    {% endif %}
    <span>Page {{ posts.number }} of {{ posts.paginator.num_pages }}</span>
    {% if posts.has_next %}
    <a href="?page={{ posts.next_page_number }}">Older</a>
    {% endif %}
  </nav>
  {% endif %}
{% endblock %}
